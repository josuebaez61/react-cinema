(this["webpackJsonpreact-cinema"]=this["webpackJsonpreact-cinema"]||[]).push([[0],{116:function(e,t,c){},120:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},133:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},146:function(e,t,c){},150:function(e,t,c){},151:function(e,t,c){},169:function(e,t,c){},170:function(e,t,c){},184:function(e,t,c){},193:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(29),s=c.n(i),r=(c(93),c(94),c(95),c(5)),l=c(15),o=c(12),d=c(10),u=c(9),j=c(8),b=c(13),m=c(40),p=c(24),h=c(19),O=c.n(h),f=c(56);c(113);c(114);f.a.initializeApp({apiKey:"AIzaSyBE2Zj8ImaeIaH2T-XAnr4_Ypht_1277Tg",authDomain:"react-cinema-735a0.firebaseapp.com",projectId:"react-cinema-735a0",storageBucket:"react-cinema-735a0.appspot.com",messagingSenderId:"654073045038",appId:"1:654073045038:web:415dbd7ab68a2bfe883fbf"});var x=function(){return f.a.firestore()},v=f.a,g=c(51),N=c(4),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),c=Object(r.a)(t,2),a=c[0],i=c[1],s=function(e){var t=e.target,c=t.name,n=t.value;i(Object(N.a)(Object(N.a)({},a),{},Object(g.a)({},c,n)))},l=function(){i(e)};return[a,s,l]},C={width:window.screen.width,height:window.screen.height},y=(c(116),c(0)),_=function(){var e=function(){var e=Object(n.useState)(C),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){a({width:window.screen.width,height:window.screen.height});var e=function(e){a(e.target?{width:window.screen.width,height:window.screen.height}:C)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),c}().width,t=Object(n.useState)(!1),c=Object(r.a)(t,2),a=c[0],i=c[1],s=Object(u.g)(),l=w({email:"",password:""}),o=Object(r.a)(l,3),h=o[0],f=o[1],x=o[2],g=h.email,N=h.password;return Object(y.jsx)("div",{className:"auth-view",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("div",{className:"p-grid p-nogutter p-jc-center p-ai-center auth-view__content animate__animated animate__fadeIn animate__fast",style:{color:"white"},children:Object(y.jsx)("div",{className:"p-col-10 p-md-8",children:Object(y.jsx)(b.Card,{header:function(){return Object(y.jsx)("div",{className:"p-p-2",children:Object(y.jsx)("h1",{children:"Iniciar Sesi\xf3n"})})},className:"p-card p-card-black",children:Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-12 p-md-5 p-d-flex p-ai-center p-jc-center",children:Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault(),i(!0),v.auth().signInWithEmailAndPassword(g,N).then((function(e){var t=e.user;(null===t||void 0===t?void 0:t.uid)&&(x(),s.goBack())})).catch((function(e){"auth/wrong-password"===e.code||"auth/user-not-found"===e.code?O.a.fire({title:"Error",icon:"error",text:"E-mail o Contrase\xf1a inv\xe1lidos."}):O.a.fire({title:"Error",icon:"error",text:e.message})})).finally((function(){return i(!1)}))},children:Object(y.jsxs)("div",{className:"p-fluid",children:[Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"email",children:"Correo electr\xf3nico"}),Object(y.jsx)(p.InputText,{onChange:f,value:g,name:"email",id:"email",type:"email"})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(y.jsx)(p.InputText,{onChange:f,value:N,name:"password",id:"password",type:"password"})]}),Object(y.jsx)(j.Button,{loading:a,disabled:a,className:"p-mt-2 p-button-rounded",label:"Login"}),Object(y.jsxs)("div",{className:"p-d-flex p-jc-between p-mt-2",children:[Object(y.jsx)(d.b,{to:"/reset-password",children:"Olvid\xe9 mi clave"}),Object(y.jsx)(d.b,{to:"/register",children:"Registrarse"})]})]})})}),Object(y.jsx)("div",{className:"p-col-12 p-md-2",children:Object(y.jsx)(m.Divider,{layout:e<768?"horizontal":"vertical"})}),Object(y.jsx)("div",{className:"p-col-12 p-md-5 p-d-flex p-ai-center p-jc-center",children:Object(y.jsx)("div",{className:"p-fluid p-text-center",children:Object(y.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto voluptates quisquam culpa atque aliquam odio rem deserunt ducimus? Sed in commodi ea quaerat mollitia eum reprehenderit dolore dicta maiores quas."})})})]})})})})})})},k=c(30),I=c.n(k),B=c(33),S=(c(120),function(){var e=Object(u.g)(),t=Object(n.useState)(!1),c=Object(r.a)(t,2),a=c[0],i=c[1],s=w({username:"",email:"",password:""}),l=Object(r.a)(s,3),o=l[0],d=l[1],m=l[2];return Object(y.jsx)("div",{className:"auth-view",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("div",{className:"p-grid p-nogutter p-jc-center p-ai-center auth-view__content animate__animated animate__fadeIn animate__fast",style:{color:"white"},children:Object(y.jsx)("div",{className:"p-col-10 p-md-5",children:Object(y.jsx)(b.Card,{header:function(){return Object(y.jsx)("div",{className:"p-p-2",children:Object(y.jsx)("h1",{children:"Registrarse"})})},className:"p-card p-card-black",children:Object(y.jsx)("form",{onSubmit:function(t){t.preventDefault(),i(!0),v.auth().createUserWithEmailAndPassword(o.email,o.password).then(function(){var e=Object(B.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,null===c||void 0===c?void 0:c.updateProfile({displayName:o.username});case 3:m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"auth/email-already-in-use"===e.code?O.a.fire({title:"Error",icon:"error",text:"Ya se ha registrado un usuario con ese correo."}):O.a.fire({title:"Error",icon:"error",text:e.message})})).finally((function(){e.goBack(),i(!1)}))},children:Object(y.jsx)("div",{className:"p-grid",children:Object(y.jsx)("div",{className:"p-col-12 p-md-auto p-d-flex p-ai-center p-jc-center",children:Object(y.jsxs)("div",{className:"p-fluid",children:[Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"username",children:"Nombre de usuario"}),Object(y.jsx)(p.InputText,{onChange:d,value:o.username,id:"username",type:"text",name:"username"})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"email",children:"Correo electr\xf3nico"}),Object(y.jsx)(p.InputText,{onChange:d,value:o.email,id:"email",type:"email",name:"email"})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(y.jsx)(p.InputText,{onChange:d,value:o.password,id:"password",type:"password",name:"password"})]}),Object(y.jsx)(j.Button,{loading:a,disabled:a,type:"submit",className:"p-mt-2 p-button-rounded",label:"Registrarse"}),Object(y.jsx)("p",{className:"p-text-right p-mt-2",children:Object(y.jsx)(j.Button,{onClick:e.goBack,label:"Volver atr\xe1s",className:"p-button-link",style:{color:"white"}})})]})})})})})})})})})}),E=c(20),D=c(41),A=(c(124),function(e){var t=e.position,c=void 0===t?"right":t,a=e.icon,i=e.onClick,s=e.className,l=void 0===s?"":s,o=e.showBadge,d=void 0!==o&&o,j=e.badgeValue,b=void 0===j?0:j,m=e.badgeClass,p=void 0===m?"":m,h=Object(u.g)(),O=Object(n.useState)({}),f=Object(r.a)(O,2),x=f[0],v=f[1];return Object(n.useEffect)((function(){switch(c){case"right":v({right:"10px"});break;case"left":v({left:"10px"});break;default:v({right:"10px"})}}),[c]),Object(y.jsxs)("button",{className:l+" floating-button floating-button-primary",onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e,h)})),type:"button",style:Object(N.a)({},x),children:[d&&Object(y.jsx)(D.Badge,{value:b,className:p}),Object(y.jsx)(E.a,{icon:a})]})}),T=c(14),F=Object(T.b)("[SEARCH] Show search modal"),R=Object(T.b)("[SEARCH] Hide search modal"),q=(c(125),c(52)),P=function(e){var t=e.visible,c=w({query:""}),n=Object(r.a)(c,3),a=n[0],i=n[1],s=n[2],l=Object(o.b)(),d=Object(u.g)();return Object(y.jsxs)(q.Dialog,{style:{width:"90%",maxWidth:"950px"},showHeader:!1,position:"top",visible:t,onHide:function(){},children:[Object(y.jsx)("h2",{className:"search-modal-title p-mb-1 p-text-center",children:"Buscador"}),Object(y.jsx)("form",{id:"searchForm",onSubmit:function(e){e.preventDefault(),l(R()),d.push("/search/?query=".concat(encodeURI(a.query))),s()},children:Object(y.jsx)(p.InputText,{name:"query",value:a.query,onChange:i,autoFocus:!0,className:"p-mb-1 w-100 search-modal-input",placeholder:"Spider-man: Homecoming"})}),Object(y.jsxs)("small",{className:"p-d-block",style:{color:"#cccc"},children:["Escriba lo que esta buscando y presione ",Object(y.jsx)("b",{children:"ENTER"}),"."]}),Object(y.jsxs)("div",{className:"p-mt-2 p-text-center",children:[Object(y.jsx)(j.Button,{onClick:function(){return l(R())},className:"p-button-rounded p-button-danger p-mr-2",children:"Cancelar"}),Object(y.jsx)(j.Button,{form:"searchForm",type:"submit",className:"p-button-rounded",children:"Buscar"})]})]})},L=c(45),z=Object(n.createContext)({});var V,H=function(e){var t=e.children,c=Object(o.c)((function(e){return e.auth})),a=Object(n.useState)([]),i=Object(r.a)(a,2),s=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(r.a)(d,2),j=u[0],b=u[1],m=function(){return s.length>0?s.map((function(e){return e.quantity*e.unit_price})).reduce((function(e,t){return e+t})):0};return Object(y.jsx)(z.Provider,{value:{cart:s,setCart:l,addItem:function(e){l((function(t){return[].concat(Object(L.a)(t),[e])}))},removeItem:function(e){return l((function(t){return t.filter((function(t){return t.itemDetail.id!==e}))})),s},clearCart:function(){l([])},setItemQuantity:function(e,t){l((function(c){return c.map((function(c){return c===e?Object(N.a)(Object(N.a)({},c),{},{quantity:t}):c}))}))},getCartTotalPrice:m,isInCart:function(e){return!(s.findIndex((function(t){return t.itemDetail.id===e.itemDetail.id}))<0)},cartWidgetIsVisible:j,setCartWidgetIsVisible:b,getTotalQuantityOfItems:function(){return s.length>0?s.map((function(e){return e.quantity})).reduce((function(e,t){return e+t})):0},buy:function(e){return new Promise((function(t){var n={buyer:Object(N.a)(Object(N.a)({},c),e),total:m(),items:s.map((function(e){return JSON.parse(JSON.stringify(e))})),date:v.firestore.Timestamp.now(),status:"confirmed"};O.a.fire({title:"Estamos procesando su orden",text:"Espere por favor...",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}),O.a.showLoading(),x().collection("orders").add(n).then((function(e){O.a.fire({title:"Orden realizada",icon:"success",text:"Numero de orden: #".concat(e.id)}).then((function(){l([])}))})).catch((function(e){O.a.fire({title:"Ocurri\xf3 un error",icon:"error",text:e.message?e.message:"Ocurri\xf3 un error inesperado, vuelva a intentarlo."})})).finally((function(){t(!0)}))}))}},children:t})},M=(c(127),function(){return Object(y.jsxs)("h2",{className:"logo p-text-red",children:[Object(y.jsx)(E.a,{color:"#61DAFB",icon:l.c})," React Cinema"]})}),G=[{url:"/",title:"Cartelera",icon:l.m},{url:"/cinemas",title:"Cines",icon:l.a},{url:"/additionals",title:"Adicionales",icon:l.g},{url:"/contacto",title:"Contacto",icon:l.b}],U=(c(128),function(){return Object(y.jsx)("footer",{className:"app-footer",children:Object(y.jsx)("div",{className:"container p-pt-5 p-pb-5 h-100",children:Object(y.jsxs)("div",{className:"p-grid h-100",children:[Object(y.jsxs)("div",{className:"p-col-12 p-md-4 p-d-flex p-flex-column p-jc-center p-ai-center app-footer__logo",children:[Object(y.jsx)(M,{}),Object(y.jsx)("p",{children:"by Josu\xe9 Baez"})]}),Object(y.jsx)("div",{className:"p-col-12 p-md-1 p-d-none p-d-md-block",children:Object(y.jsx)(m.Divider,{layout:"vertical"})}),Object(y.jsx)("div",{className:"p-col-6 p-md-2",children:Object(y.jsx)("div",{className:"p-d-flex p-ai-center p-jc-center app-footer__site-map",children:Object(y.jsxs)("div",{className:"p-d-flex p-flex-column p-ai-center p-ai-md-start",children:[Object(y.jsx)("h5",{children:"NAVEGAR"}),Object(y.jsx)("ul",{className:"p-p-0 p-pl-md-2",children:G.map((function(e){return Object(y.jsx)("li",{className:"p-text-center p-text-md-left",children:Object(y.jsx)(d.b,{to:e.url,children:e.title})},e.title)}))})]})})}),Object(y.jsxs)("div",{className:"p-col-6 p-md-2 p-d-flex p-flex-column p-ai-center p-ai-md-start p-jc-evenly h-100 app-footer__site-map",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"CUENTA"}),Object(y.jsxs)("ul",{className:"p-p-0 p-pl-md-2",children:[Object(y.jsx)("li",{children:Object(y.jsx)(d.b,{to:"/login",children:"Ingresar"})}),Object(y.jsx)("li",{children:Object(y.jsx)(d.b,{to:"/register",children:"Registrarse"})})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"AUTOR DEL SITIO"}),Object(y.jsxs)("ul",{className:"p-p-0 p-pl-md-2",children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{rel:"noreferrer",target:"_blank",href:"http://www.linkedin.com/in/josuebaez15",children:"LinkedIn"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.facebook.com/josueDev61",children:"Facebook"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/josuebaez61/",children:"Instagram"})})]})]})]}),Object(y.jsxs)("div",{className:"p-col-12 p-d-flex p-flex-column p-ai-center p-d-md-block p-md-2",children:[Object(y.jsx)("h3",{children:"Central"}),Object(y.jsx)("p",{className:"p-text-center p-text-md-left",children:Object(y.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://goo.gl/maps/wneYNfnggMaFkEk76",children:"Mikkel Bryggers Gade 8, 1460 K\xf8benhavn, Dinamarca"})}),Object(y.jsx)("div",{className:"p-mt-2",children:Object(y.jsx)("iframe",{title:"Central",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d85656.47233957905!2d12.396540146123714!3d55.65626317974076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xaefb4407a4078bea!2sGrand%20Teatret!5e0!3m2!1ses!2sar!4v1621633347792!5m2!1ses!2sar",width:"250",height:"150",style:{border:"0"},allowFullScreen:!1,loading:"lazy"})})]})]})})})}),W=(c(129),Object(T.b)("[SIDEBAR] Show sidebar")),Q=Object(T.b)("[SIDEBAR] Hide sidebar"),J=function(e){var t=e.layout,c=void 0===t?"vertical":t,n=e.color,a=void 0===n?"#cccc":n,i=e.longitude,s=void 0===i?"28px":i,r=e.width,l=void 0===r?"1px":r,o=e.horizontalMargin,d=void 0===o?"15px":o,u=e.verticalMargin,j=void 0===u?"0px":u;return Object(y.jsxs)(y.Fragment,{children:["vertical"===c&&Object(y.jsx)("span",{style:{height:s,borderLeft:"".concat(l," solid ").concat(a),margin:"".concat(j," ").concat(d," ").concat(j," ").concat(d)}}),"horizontal"===c&&Object(y.jsx)("span",{style:{width:s,borderTop:"".concat(l," solid ").concat(a),margin:"".concat(j," ").concat(d," ").concat(j," ").concat(d)}})]})},Y=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animate__";return new Promise((function(n,a){var i="".concat(c).concat(t),s=document.querySelector(e);s&&s.classList.add("".concat(c,"animated"),i),s&&s.addEventListener("animationend",(function(e){e.stopPropagation(),s&&s.classList.remove("".concat(c,"animated"),i),n("Animation ended")}),{once:!0})}))},$=(c(130),function(){var e=Object(u.g)(),t=Object(u.h)(),c=Object(n.useContext)(z),a=c.cart,i=c.cartWidgetIsVisible,s=c.setCartWidgetIsVisible;return Object(n.useEffect)((function(){i&&Y(".cart-widget","fadeOut").then((function(){return s(!1)}))}),[t,s]),Object(y.jsx)(y.Fragment,{children:i&&Object(y.jsxs)("div",{className:"cart-widget animate__animated animate__fadeIn animate__fast p-p-2",children:[Object(y.jsx)("div",{className:"p-text-right p-pb-2",children:Object(y.jsx)(j.Button,{onClick:function(){Y(".cart-widget","fadeOut").then((function(){return s(!1)}))},icon:"pi pi-times",iconPos:"right",label:"Cerrar",className:"p-button-rounded p-button-text p-button-sm"})}),Object(y.jsx)("ul",{className:"cart-widget__list",children:a.map((function(t){return Object(y.jsx)("li",{className:"pointer",onClick:function(){return"movie"===t.type?e.push("/movie/".concat(t.itemDetail.id)):e.push("/additional/".concat(t.itemDetail.id))},children:Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-3",children:"movie"===t.type?Object(y.jsx)("img",{className:"w-100",src:"https://image.tmdb.org/t/p/w500".concat(t.itemDetail.poster_path),alt:""}):Object(y.jsx)("img",{className:"w-100",src:t.itemDetail.image,alt:""})}),Object(y.jsx)("div",{className:"p-col-7",children:Object(y.jsx)("h5",{children:"movie"===t.type?t.itemDetail.title:t.itemDetail.name})}),Object(y.jsxs)("div",{className:"p-col-2",children:[Object(y.jsx)("i",{className:"pi pi-times",style:{fontSize:"0.5rem"}}),t.quantity]})]})},t.itemDetail.id)}))}),Object(y.jsx)("div",{className:"p-fluid",children:Object(y.jsx)(j.Button,{label:"Ver en detalle",onClick:function(){return e.push("/cart")}})})]})})}),K=function(){var e=Object(n.useContext)(z),t=e.cart,c=e.setCartWidgetIsVisible,a=e.getTotalQuantityOfItems,i=Object(o.c)((function(e){return e.sidebar})).show,s=Object(o.c)((function(e){return e.auth})),r=s.uid,b=s.email,m=Object(o.b)(),p=Object(u.g)();return Object(n.useEffect)((function(){t.length>0&&Y(".cart-button__badge","pulse")}),[t]),Object(y.jsxs)("nav",{children:[Object(y.jsx)("div",{className:"p-p-0 p-md-7 container",children:Object(y.jsxs)("div",{className:"p-d-flex p-jc-between p-align-center",children:[Object(y.jsx)(j.Button,{onClick:function(){return m(i?Q():W())},className:"p-d-lg-none toggle-button p-button-primary p-button-text",icon:"pi pi-list"}),Object(y.jsx)(d.b,{to:"/",style:{textDecoration:"none"},children:Object(y.jsx)(M,{})}),Object(y.jsx)("ul",{className:"p-d-none p-d-lg-inline-block",children:G.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsx)(d.c,{activeClassName:"active",to:e.url,className:"p-mr-2 p-ml-2",children:e.title.toUpperCase()})},e.url)}))}),Object(y.jsx)("div",{className:"p-d-none p-d-lg-inline-block",children:Object(y.jsxs)("div",{className:"search-login p-d-flex",children:[r&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:Object(y.jsxs)("button",{style:{position:"relative"},className:"text-button cart-button",onClick:function(){return t.length>0?c(!0):p.push("/cart")},children:[Object(y.jsx)(E.a,{icon:l.j}),t.length>0&&Object(y.jsx)(D.Badge,{className:"cart-button__badge",size:"normal",value:"".concat(a())})]})}),Object(y.jsx)(J,{longitude:"25px"})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"text-button",onClick:function(){return m(F())},children:Object(y.jsx)(E.a,{icon:l.i})})}),Object(y.jsx)(J,{longitude:"25px"}),Object(y.jsx)("div",{children:r?Object(y.jsx)(d.c,{activeClassName:"active",to:"/user-screen",children:b}):Object(y.jsx)(d.c,{activeClassName:"active",to:"/login",children:"INGRESAR"})})]})})]})}),Object(y.jsx)($,{})]})},X=(c(131),Object(T.b)("[AUTH] Log in",(function(e,t,c){return{payload:{displayName:e,email:t,uid:c}}}))),Z=Object(T.b)("[AUTH] Log out"),ee=function(){var e=Object(o.c)((function(e){return e.sidebar})).show,t=Object(o.c)((function(e){return e.auth})),c=t.uid,a=t.email,i=Object(n.useState)("none"),s=Object(r.a)(i,2),u=s[0],j=s[1],b=Object(o.b)(),m=Object(n.useContext)(z).setCart;Object(n.useEffect)((function(){switch(e){case!0:j("flex"),Y(".sidebar-navigation","slideInLeft");break;case!1:"none"!==u?Y(".sidebar-navigation","slideOutLeft").then((function(){return j("none")})):j("none")}}),[e,u]);var p=function(){b(Q())};return Object(y.jsxs)("div",{className:"sidebar-navigation animate__animated animate__faster",style:{display:u},children:[Object(y.jsx)("ul",{children:G.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsxs)(d.c,{activeClassName:"sidebar-navigation__link--active",className:"sidebar-navigation__link",to:e.url,onClick:p,children:[Object(y.jsx)(E.a,{icon:e.icon})," ",e.title]})},e.url)}))}),Object(y.jsxs)("div",{children:[c?Object(y.jsxs)(d.c,{activeClassName:"sidebar-navigation__link--active",onClick:p,className:"sidebar-navigation__link p-text-center",to:"/user-screen",children:[Object(y.jsx)(E.a,{icon:l.n})," ",a]}):Object(y.jsxs)(d.c,{activeClassName:"sidebar-navigation__link--active",onClick:p,className:"sidebar-navigation__link p-text-center",to:"/login",children:[Object(y.jsx)(E.a,{icon:l.e})," INGRESAR"]}),c&&Object(y.jsxs)(d.c,{activeClassName:"sidebar-navigation__link--active",className:"sidebar-navigation__link p-text-center",to:"/singout",onClick:function(e){v.auth().signOut().then((function(){b(Z()),m([]),b(Q())}))},style:{color:"var(--pink-500)"},children:[Object(y.jsx)(E.a,{icon:l.k})," SALIR"]})]})]})},te=c(34);!function(e){e.movie="movie",e.additional="additional"}(V||(V={}));var ce=function e(t,c,n,a,i){Object(te.a)(this,e),this.itemDetail=void 0,this.quantity=void 0,this.cinema=null,this.type=void 0,this.unit_price=void 0,this.itemDetail=t,this.quantity=c,this.type=n,this.unit_price=a,i&&(this.cinema=i)},ne=c(35),ae=(c(133),c(53)),ie=function(){var e,t=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),l=s[0],o=s[1],d=Object(u.i)().id,j=x(),b=Object(u.g)();return Object(n.useEffect)((function(){o(!0),j.collection("additionals").doc(d).get().then((function(e){if(e.exists){var t=Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id});a(t)}else b.push("/not-found")})).finally((function(){return o(!1)}))}),[j,d,b]),{additional:c,loading:l}}(),c=t.additional,a=t.loading,i=Object(n.useState)(1),s=Object(r.a)(i,2),l=s[0],d=s[1],m=Object(n.useContext)(z),p=m.addItem,h=m.isInCart,f=Object(u.g)(),v=Object(o.c)((function(e){return e.auth})).uid;return Object(y.jsx)("div",{className:"container p-pt-2 p-pb-2",children:a?Object(y.jsx)("div",{className:"w-100 p-d-flex p-jc-center p-mt-3 p-mb-3",children:Object(y.jsx)(ne.ProgressSpinner,{})}):Object(y.jsxs)(b.Card,{className:"p-card-black animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"p-grid additional-item",children:[Object(y.jsx)("div",{className:"p-col-4",children:Object(y.jsx)("img",{className:"w-100",src:null===c||void 0===c?void 0:c.image,alt:null===c||void 0===c?void 0:c.name})}),Object(y.jsx)("div",{className:"p-col-8",children:Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-12",children:Object(y.jsx)("h2",{className:"additional-item__title",children:null===c||void 0===c?void 0:c.name})}),Object(y.jsx)("div",{className:"p-col-12",children:Object(y.jsx)("p",{children:null===c||void 0===c?void 0:c.description})}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsxs)("div",{className:"p-fluid",children:[Object(y.jsx)("label",{htmlFor:"",children:"Precio"}),Object(y.jsxs)("p",{className:"additional-item__price",children:["$",null===c||void 0===c||null===(e=c.price)||void 0===e?void 0:e.toFixed(2)," x Unidad."]})]})}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("div",{className:"p-fluid",children:Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"quantity",children:"Cantidad"}),Object(y.jsx)(ae.InputNumber,{value:l,name:"tickets",min:1,max:10,onChange:function(e){return d(e.value)},onFocus:function(e){return e.target.blur()},showButtons:!0,buttonLayout:"horizontal",decrementButtonClassName:"p-button-primary",decrementButtonIcon:"pi pi-minus",incrementButtonClassName:"p-button-primary",incrementButtonIcon:"pi pi-plus"})]})})})]})})]}),Object(y.jsx)("div",{className:"p-card-footer",children:Object(y.jsxs)("div",{className:"p-text-right",children:[Object(y.jsx)(j.Button,{icon:"pi pi-arrow-left",onClick:f.goBack,className:"p-button-danger p-mb-2 p-mb-md-0  p-mr-md-1 p-button-rounded w-100 w-md-auto",label:"Atr\xe1s"}),v?Object(y.jsx)(j.Button,{onClick:function(){var e=new ce(c,l,V.additional,null===c||void 0===c?void 0:c.price);h(e)?O.a.fire({title:"\xa1Atenci\xf3n!",text:"Ya agregaste este producto a tu carrito.",icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Ver en el carrito",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&f.push("/cart")})):(p(e),f.push("/cart"))},type:"button",icon:"pi pi-shopping-cart",className:"p-button-rounded w-100 w-md-auto",label:"Al carrito"}):Object(y.jsx)(j.Button,{onClick:function(){return f.push("/login")},form:"reservation-form",type:"button",icon:"pi pi-key",className:"p-button-rounded w-100 w-md-auto",label:"Debe autenticarse"})]})})]})})},se=c(80),re=(c(136),function(e){var t=e.item,c=Object(u.g)();return Object(y.jsx)("div",{className:"aditional-item p-col-6 p-md-3",onClick:function(){return c.push("/additional/".concat(t.id))},children:Object(y.jsx)(b.Card,{subTitle:"$"+t.price.toFixed(2),className:"p-card-black",header:function(){return Object(y.jsx)("img",{src:t.image,alt:t.name})},title:t.name})})}),le=function(){var e=Object(n.useState)("all"),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),s=Object(r.a)(i,2),l=s[0],o=s[1],d=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),l=s[0],o=s[1],d=x(),u=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return o(!0),d.collection("additionals").get().then((function(e){var t=e.docs.map((function(e){return Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id})}));u.current&&a(t)})).finally((function(){return o(!1)})),function(){u.current=!1}}),[d]),{additionals:c,loading:l}}(),u=d.additionals,j=d.loading;return Object(n.useEffect)((function(){o(u)}),[u]),Object(n.useEffect)((function(){switch(c){case"snacks":o(u.filter((function(e){return e.tags.includes("snacks")})));break;case"drinks":o(u.filter((function(e){return e.tags.includes("drinks")})));break;case"combo":o(u.filter((function(e){return e.tags.includes("combo")})));break;default:o(u)}}),[c,u]),Object(y.jsx)("div",{className:"container p-mt-2 p-mb-2",children:j?Object(y.jsx)("div",{className:"w-100 p-d-flex p-jc-center p-mt-3 p-mb-3",children:Object(y.jsx)(ne.ProgressSpinner,{})}):Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-12 p-md-2",children:Object(y.jsx)(b.Card,{className:"p-card-black animate__animated animate__fadeIn",title:"Filtros",children:Object(y.jsx)("div",{className:"p-grid p-mt-2",children:[{value:"drinks",name:"Bebidas"},{value:"snacks",name:"Snacks"},{value:"combo",name:"Combos"},{value:"all",name:"Todo"}].map((function(e){return Object(y.jsxs)("div",{className:"p-col-4 p-md-12",children:[Object(y.jsx)(se.RadioButton,{value:e.value,name:"currentFilter",onChange:function(e){return a(e.value)},checked:c===e.value}),Object(y.jsxs)("label",{htmlFor:"city1",children:[" ",e.name]})]},e.value)}))})})}),Object(y.jsx)("div",{className:"p-col-12 p-md-10  animate__animated animate__fadeIn",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{style:{color:"white"},className:"p-mb-2",children:"Adicionales"}),Object(y.jsx)("div",{className:"p-grid",children:l.map((function(e){return Object(y.jsx)(re,{item:e},e.id)}))})]})})]})})},oe=(c(137),function(e){var t,c=e.item,a=Object(u.g)(),i=Object(n.useContext)(z),s=i.setItemQuantity,r=i.removeItem,l=function(e){"movie"===c.type?a.push("/movie/".concat(c.itemDetail.id)):a.push("/additional/".concat(c.itemDetail.id))};return Object(y.jsxs)("article",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-3 p-md-2",children:Object(y.jsx)("img",{onClick:l,style:{cursor:"pointer"},className:"w-100",src:c.type===V.movie?"https://image.tmdb.org/t/p/w500".concat(c.itemDetail.poster_path):c.itemDetail.image,alt:"Cart item"})}),Object(y.jsx)("div",{className:"p-col-9 p-md-10",children:Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsxs)("div",{className:"p-col-12 p-md-6 p-text-center p-text-md-left",children:[Object(y.jsx)("h3",{onClick:l,style:{cursor:"pointer"},children:"movie"===c.type?c.itemDetail.title:c.itemDetail.name}),Object(y.jsx)("span",{children:null===(t=c.cinema)||void 0===t?void 0:t.name})]}),Object(y.jsx)("div",{className:"p-col-12 p-md-2",children:Object(y.jsx)("div",{className:"p-field p-fluid",children:Object(y.jsx)(ae.InputNumber,{className:"p-inputtext-sm w-100",style:{borderRadius:"5px"},value:c.quantity,min:1,max:100,onChange:function(e){s(c,e.value)},showButtons:!0,onFocus:function(e){return e.target.blur()}})})}),Object(y.jsx)("div",{className:"p-col-12 p-md-2",children:Object(y.jsxs)("p",{className:"p-text-center item-price",children:["$",(c.unit_price*c.quantity).toFixed(2)]})}),Object(y.jsx)("div",{className:"p-col-12 p-md-2 p-text-center",children:Object(y.jsx)(j.Button,{label:"Remover",icon:"pi pi-times",className:"p-button-sm p-button-rounded p-button-danger p-button-outlined",onClick:function(){return r(c.itemDetail.id)}})})]})})]})}),de=(c(138),c(81)),ue=function(){var e=w({first_name:"",last_name:"",phone:""}),t=Object(r.a)(e,3),c=t[0],a=t[1],i=t[2],s=c.first_name,h=c.last_name,f=c.phone,x=Object(o.c)((function(e){return e.auth})).email,v=Object(u.g)(),g=Object(n.useContext)(z),N=g.cart,C=g.getCartTotalPrice,_=g.clearCart,k=g.buy,S=Object(n.useState)(!1),D=Object(r.a)(S,2),A=D[0],T=D[1],F=function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k(c);case 3:e.sent&&(T(!1),i());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"container p-pt-3 p-pb-3",children:[Object(y.jsx)(b.Card,{className:"p-card-black animate__animated animate__fadeIn",children:Object(y.jsx)("div",{className:"p-grid",children:N.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"p-col-12",children:Object(y.jsx)("ul",{className:"cart-item-list",children:N.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsx)(oe,{item:e})},e.itemDetail.id)}))})}),Object(y.jsx)("div",{className:"p-col-12",children:Object(y.jsx)(m.Divider,{})}),Object(y.jsx)("div",{className:"p-col-12",children:Object(y.jsxs)("div",{className:"p-grid p-jc-between",children:[Object(y.jsxs)("div",{className:"p-col-12 p-md-7",children:[Object(y.jsx)(j.Button,{onClick:v.goBack,icon:"pi pi-arrow-left",label:"Atr\xe1s",className:"p-d-inline p-button-primary w-100 w-md-auto p-mr-2 p-mb-2 p-mb-md-0"}),Object(y.jsx)(j.Button,{onClick:function(){O.a.fire({title:"\xbfEst\xe1 seguro?",text:"Esta a punto de vaciar su carrito.",icon:"question",confirmButtonText:"S\xed, vaciar",cancelButtonText:"No",showCancelButton:!0,showConfirmButton:!0}).then((function(e){e.isConfirmed&&_()}))},icon:"pi pi-trash",label:"Vaciar carrito",className:"p-d-inline p-button-danger w-100 w-md-auto p-mr-2 p-mb-2 p-mb-md-0"}),Object(y.jsx)(j.Button,{onClick:function(){return T(!0)},icon:"pi pi-money-bill",label:"Checkout",className:"p-d-inline p-button-rounded p-button-success w-100 w-md-auto"})]}),Object(y.jsx)("div",{className:"p-col-12 p-md-3 p-text-center p-text-md-right",children:Object(y.jsxs)("span",{className:"cart-total-price",children:["Total: $",C().toFixed(2)]})})]})})]}):Object(y.jsxs)("div",{className:"p-col-12 p-d-flex p-flex-column p-ai-center empty-cart",children:[Object(y.jsx)("h3",{className:"p-text-center",children:"El carrito est\xe1 vac\xedo"}),Object(y.jsx)(E.a,{className:"p-mb-2",size:"3x",icon:l.d}),Object(y.jsxs)("p",{className:"p-text-center",children:["Podr\xedas llenarlo explorando nuestra ",Object(y.jsx)(d.b,{className:"empty-cart__link",to:"/cartera",children:"Cartelera"})," o nuestros ",Object(y.jsx)(d.b,{className:"empty-cart__link",to:"/additionals",children:"Adicionales"})]}),Object(y.jsx)(E.a,{size:"3x",icon:l.l})]})})}),Object(y.jsx)(q.Dialog,{baseZIndex:500,style:{width:"90%",maxWidth:"750px"},showHeader:!1,onHide:function(){return T(!1)},visible:A,children:Object(y.jsxs)("div",{className:"p-pt-2 p-pb-2",children:[Object(y.jsx)("h3",{children:"Checkout de compra"}),Object(y.jsx)("p",{className:"p-mb-3",children:"Completa con los campos requeridos para completar la compra."}),Object(y.jsxs)("form",{autoComplete:"false",className:"p-fluid",onSubmit:F,children:[Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"first_name",children:"Nombre"}),Object(y.jsx)(p.InputText,{onChange:a,name:"first_name",required:!0,value:s})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"last_name",children:"Apellido"}),Object(y.jsx)(p.InputText,{onChange:a,name:"last_name",required:!0,value:h})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"phone",children:"Tel\xe9fono"}),Object(y.jsx)(de.InputMask,{name:"phone",required:!0,mask:"(999) 9999-9999",value:f,placeholder:"(999) 999-9999",onChange:function(e){return a(e.originalEvent)}})]}),Object(y.jsx)("div",{className:"p-field",children:Object(y.jsxs)("small",{children:["Comprando como: ",x]})}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)(j.Button,{className:"p-mb-2",label:"Comprar"}),Object(y.jsx)(j.Button,{type:"button",onClick:function(){return T(!1)},className:"p-button-danger",label:"Cerrar"})]})]})]})})]})},je=function(){return Object(y.jsx)("div",{className:"container p-pt-2 p-pb-2 animate__animated animate__fadeIn",children:Object(y.jsxs)(b.Card,{className:"p-card-black",children:[Object(y.jsx)("h1",{children:"Cines"}),Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsxs)("div",{className:"p-col-12 p-md-6",children:[Object(y.jsx)("iframe",{title:"iframe_1",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d52512.71376006144!2d-58.56923124330868!3d-34.653576308594786!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb7d733269ca5%3A0x382f83fa2ef5001a!2sCinema%20Devoto!5e0!3m2!1ses!2sar!4v1623953000572!5m2!1ses!2sar",height:"500",style:{border:"0",width:"100%"},loading:"lazy"}),Object(y.jsx)("a",{href:"https://g.page/Cinema-Devoto-ok?share",children:"Cinema Devoto BVC, Quevedo 3365, C1417 CABA"})]}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("iframe",{title:"iframe_2",src:"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d287516.71305264067!2d12.126132710937503!3d55.737231312174586!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xaefb4407a4078bea!2sGrand%20Teatret!5e0!3m2!1ses!2sar!4v1623953074852!5m2!1ses!2sar",height:"500",style:{border:"0",width:"100%"},loading:"lazy"})}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("iframe",{title:"iframe_3",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d62492.729966749226!2d-58.46302902531757!3d-34.59481594707565!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x22f851827c26991e!2sCinemark%20Palermo!5e0!3m2!1ses!2sar!4v1623953155498!5m2!1ses!2sar",height:"500",style:{border:"0",width:"100%"},loading:"lazy"})}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("iframe",{title:"iframe_4",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d62492.729966749226!2d-58.46302902531757!3d-34.59481594707565!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xefa34d7892133e88!2sCinemark%20Hoyts!5e0!3m2!1ses!2sar!4v1623953181150!5m2!1ses!2sar",height:"500",style:{border:"0",width:"100%"},loading:"lazy"})})]})]})})},be=c(82),me=c(54),pe=(c(146),function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=w({email:"",subject:"",message:""}),s=Object(r.a)(i,3),l=s[0],o=s[1],d=s[2],u=function(){for(var e=Object.keys(l),t=[],c=function(){var e=i[n];l[e].length<=0?(a((function(t){return[].concat(Object(L.a)(t),[e])})),t.push(!0)):(a((function(t){return Object(L.a)(t).filter((function(t){return t!==e}))})),t.push(!1))},n=0,i=e;n<i.length;n++)c();return!!t.includes(!0)};return Object(y.jsx)("main",{className:"container p-pb-2 p-pt-2",children:Object(y.jsx)("div",{className:"p-grid p-jc-center",children:Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsxs)(b.Card,{className:"p-card-black",children:[Object(y.jsx)("h1",{className:"p-text-center",children:"Contacto"}),Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault(),u()?O.a.fire("\xa1Error!","El formulario tiene errores, revisa los campos.","error"):O.a.fire("\xa1Enviado!","Recibimos tu consulta, te responderemos a la brevedad.","success").then((function(){return d()}))},children:Object(y.jsxs)("div",{className:"p-fluid",children:[Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"email",children:"Correo electr\xf3nico"}),Object(y.jsx)(p.InputText,{type:"email",onChange:o,value:l.email,name:"email"}),Object(y.jsx)("small",{className:"p-error ".concat(c.includes("email")?"p-d-block":"p-d-none"),children:"Debe ingresar un e-mail v\xe1lido."})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"subject",children:"Asunto"}),Object(y.jsx)(me.Dropdown,{name:"subject",optionLabel:"label",value:l.subject,options:[{label:"Facturaci\xf3n",value:"billing"},{label:"Recursos Humanos",value:"rrhh"},{label:"Reclamo",value:"claim"},{label:"Otros",value:"other"}],onChange:o,placeholder:"Especifique el asunto"}),Object(y.jsx)("small",{className:"p-error ".concat(c.includes("subject")?"p-d-block":"p-d-none"),children:"Debe elegir un asunto v\xe1lido."})]}),Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{htmlFor:"message",children:"Mensaje"}),Object(y.jsx)(be.InputTextarea,{name:"message",rows:5,cols:30,value:l.message,onChange:o,autoResize:!0,maxLength:500}),Object(y.jsx)("small",{className:"p-error ".concat(c.includes("message")?"p-d-block":"p-d-none"),children:"El mensaje no puede estar vac\xedo ni superar los 500 caracteres."})]}),Object(y.jsxs)("div",{className:"p-d-flex p-jc-end",children:[Object(y.jsx)(j.Button,{onClick:d,type:"button",className:"p-button-rounded p-button-danger p-mr-2",style:{width:"auto"},label:"Limpiar Formulario"}),Object(y.jsx)(j.Button,{type:"submit",className:"p-button-rounded",style:{width:"auto"},label:"Enviar"})]})]})})]})})})})}),he=c(83),Oe=c.p+"static/media/no-image.726acbc8.jpg",fe=(c(150),function(e){var t=e.movie,c=Object(u.g)();return Object(y.jsx)("div",{onClick:function(){return c.push("/movie/".concat(t.id))},style:{cursor:"pointer"},children:Object(y.jsx)(b.Card,{className:"movie-billboard w-100",title:t.title,header:function(){return Object(y.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):Oe,alt:t.title})}})})}),xe=(c(151),c(84)),ve=c(42),ge=c(85),Ne=c.n(ge).a.create({baseURL:"https://api.themoviedb.org/3/",timeout:1e3,params:{api_key:"33245a5fba7fb336ade8ee090f3ee97e",language:"es-MX"}}),we=function(){function e(){Object(te.a)(this,e)}return Object(ve.a)(e,null,[{key:"getNowPlaying",value:function(){return Ne.get("/movie/now_playing").then((function(e){return e.data}))}},{key:"getGenres",value:function(){return Ne.get("/genre/movie/list").then((function(e){return e.data}))}},{key:"getMovieById",value:function(e){return Ne.get("/movie/".concat(e)).then((function(e){return e.data}))}},{key:"searchMovies",value:function(e,t){return Ne.get("/search/movie".concat(e),{params:{page:t}}).then((function(e){return e.data}))}}]),e}(),Ce=Object(T.c)("[GENRES] Load genres",Object(B.a)(I.a.mark((function e(){var t,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.getGenres();case 2:return t=e.sent,c=t.genres,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),ye=Object(T.c)("[MOVIES] Load movies",Object(B.a)(I.a.mark((function e(){var t,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.getNowPlaying();case 2:return t=e.sent,c=t.results,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),_e={movies:[],genres:[]},ke=function(){var e=Object(u.g)(),t=function(){var e=Object(o.c)((function(e){return e})),t=e.movies.results,c=e.genres.genres,a=Object(n.useState)(_e),i=Object(r.a)(a,2),s=i[0],l=i[1],d=Object(o.b)();return Object(n.useEffect)((function(){d(ye()),d(Ce())}),[d]),Object(n.useEffect)((function(){if(t.length>0&&c.length>0){for(var e=c.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{movies:[]})})),n=0;n<c.length;n++){var a,i=Object(xe.a)(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.genre_ids.includes(c[n].id)&&e[n].movies.push(s)}}catch(r){i.e(r)}finally{i.f()}}l((function(c){return Object(N.a)(Object(N.a)({},c),{},{movies:t,genres:e.filter((function(e){return e.movies.length>0}))})}))}}),[t,c]),s}(),c=t.movies,a=t.genres,i=Object(n.useState)(!1),s=Object(r.a)(i,2),l=s[0],d=s[1];Object(n.useEffect)((function(){c&&a&&d(!0)}),[c,a]);return Object(y.jsx)("div",{className:"home container",children:l?Object(y.jsxs)("div",{className:"animate__animated animate__fadeIn animate__slow",children:[Object(y.jsx)(he.Galleria,{value:c,item:function(t){return Object(y.jsx)("img",{onClick:function(){return e.push("movie/".concat(t.id))},src:"https://image.tmdb.org/t/p/original/".concat(t.backdrop_path),alt:t.title,style:{width:"100%",display:"block"}})},showThumbnails:!1,circular:!0,caption:function(t){return Object(y.jsxs)("div",{className:"p-d-flex p-jc-between",children:[Object(y.jsx)("h4",{className:"p-mb-2",children:t.title}),Object(y.jsx)(j.Button,{onClick:function(){return e.push("movie/".concat(t.id))},className:"p-d-none p-d-md-block p-button-rounded p-button-info p-button-outlined",label:"Reservar",style:{width:"8rem"}})]})},autoPlay:!0}),Object(y.jsx)("h1",{className:"home__title",children:"En Cartelera"}),a.map((function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{className:"genre-title",children:e.name}),Object(y.jsx)("div",{className:"p-grid",children:e.movies.map((function(e){return Object(y.jsx)("div",{className:"p-col-4 p-md-2",children:Object(y.jsx)(fe,{movie:e})},e.id)}))})]},e.name)}))]}):Object(y.jsx)("div",{className:"w-100 p-d-flex p-jc-center p-mt-5",children:Object(y.jsx)(ne.ProgressSpinner,{})})})},Ie=function(){var e=Object(u.g)();return Object(y.jsx)("div",{className:"container p-pb-2 p-pt-2",children:Object(y.jsxs)(b.Card,{className:"p-card-black p-text-center",children:[Object(y.jsx)(E.a,{size:"3x",icon:l.d}),Object(y.jsx)("h2",{className:"p-pb-3",children:"El producto ya no est\xe1 disponible."}),Object(y.jsx)(j.Button,{onClick:function(){return e.push("/")},label:"Volver al inicio"})]})})},Be=(c(169),c(170),function(e){var t=e.minValue,c=void 0===t?0:t,a=e.maxValue,i=e.onChange,s=e.name,o=void 0===s?"":s,d=e.transparent,u=void 0!==d&&d,b=e.initialValue,m=Object(n.useState)(b||c),h=Object(r.a)(m,2),O=h[0],f=h[1],x=Object(n.useRef)(null);return Object(n.useEffect)((function(){x.current&&i&&i({target:x.current,minValue:c,maxValue:a})}),[O]),Object(y.jsxs)("div",{className:"p-inputgroup counter-input",children:[Object(y.jsx)(j.Button,{onClick:function(){c<O&&f((function(e){return e-1}))},type:"button",className:"p-d-flex p-jc-center ".concat(u?"p-button-outlined counter-input__button--transparent":""),children:Object(y.jsx)(E.a,{className:"p-text-center",icon:l.f})}),Object(y.jsx)(p.InputText,{ref:x,className:"p-text-center ".concat(u?"counter-input__inputtext--transparent":""),type:"number",value:O,min:1,readOnly:!0,name:o}),Object(y.jsx)(j.Button,{type:"button",onClick:function(){a?O<a&&f((function(e){return e+1})):f((function(e){return e+1}))},className:"p-d-flex p-jc-center ".concat(u?"p-button-outlined counter-input__button--transparent":""),children:Object(y.jsx)(E.a,{className:"p-text-center",icon:l.h})})]})}),Se=x(),Ee=function(){function e(){Object(te.a)(this,e)}return Object(ve.a)(e,null,[{key:"getCinemas",value:function(){return Se.collection("cinemas").get().then((function(e){return e.docs.map((function(e){return Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id})}))}))}}]),e}(),De=x(),Ae=function(){function e(){Object(te.a)(this,e)}return Object(ve.a)(e,null,[{key:"getPriceById",value:function(e){return De.collection(this.collection).doc(e).get().then((function(e){return e.data()}))}}]),e}();Ae.collection="ticket-prices";var Te=function(){var e=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(u.i)().id,s=Object(u.g)();return Object(n.useEffect)((function(){i&&we.getMovieById(i).then((function(e){return a(e)})).catch((function(e){s.push("/not-found")}))}),[i,s]),c}(),t=Object(n.useState)(!0),c=Object(r.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(r.a)(s,2),d=l[0],m=l[1],p=Object(u.g)(),h=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return Ee.getCinemas().then((function(e){i.current&&a(e)})),function(){i.current=!1}}),[]),c}(),f=Object(n.useState)(0),x=Object(r.a)(f,2),v=x[0],g=x[1],N=w({tickets:1,cinema:""}),C=Object(r.a)(N,2),_=C[0],k=_.tickets,I=_.cinema,B=C[1],S=Object(n.useContext)(z),E=S.addItem,A=S.isInCart,T=Object(o.c)((function(e){return e.auth})).uid,F=Object(o.c)((function(e){return e.movies})).results;return Object(n.useEffect)((function(){Ae.getPriceById("general").then((function(e){return g(e.price)}))}),[]),Object(n.useEffect)((function(){Number(k)<1||I.length<=0?i(!0):i(!1)}),[k,I]),Object(y.jsx)("div",{className:"container p-mt-3 p-mb-3",children:Object(y.jsx)(b.Card,{className:"p-card p-card-black",children:e&&Object(y.jsxs)("div",{className:"animate__animated animate__fadeIn animate__fasters",children:[Object(y.jsxs)("div",{className:"p-grid",children:[Object(y.jsx)("div",{className:"p-col-12 p-md-3",children:Object(y.jsx)("img",{className:"w-100",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""})}),Object(y.jsxs)("div",{className:"p-col-12 p-md-9",children:[Object(y.jsxs)("div",{className:"p-mb-3",children:[Object(y.jsx)("h1",{className:"p-text-center p-text-md-left",children:e.title}),Object(y.jsx)("p",{className:"p-text-center p-text-md-left",children:e.overview})]}),Object(y.jsxs)("div",{className:"p-text-center",children:[Object(y.jsx)("h5",{style:{fontSize:"1.3rem"},className:"p-mb-2",children:"G\xe9neros"}),e.genres.map((function(e){return Object(y.jsx)(D.Badge,{value:e.name,severity:"primary",className:"p-m-1"},e.id)}))]}),F.findIndex((function(t){return t.id===e.id}))>-1?Object(y.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),I){if(m(!1),e){var c=new ce(e,Number(k),V.movie,v,I);A(c)?O.a.fire({title:"\xa1Atenci\xf3n!",text:"Ya agregaste este producto a tu carrito.",icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Ver en el carrito",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&p.push("/cart")})):(E(c),p.push("/cart"))}}else m(!0)},id:"reservation-form",className:"p-grid p-mt-3",children:[Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("div",{className:"p-fluid",children:Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsxs)("label",{children:["Entrada general: $",v.toFixed(2)]}),Object(y.jsx)("br",{}),Object(y.jsx)(Be,{name:"tickets",minValue:1,maxValue:10,onChange:B}),Object(y.jsx)("small",{className:"p-d-block",style:{color:"#cccc"},children:"Cantidad disponible: 10"})]})})}),Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)("div",{className:"p-fluid",children:Object(y.jsxs)("div",{className:"p-field",children:[Object(y.jsx)("label",{children:"Sucursal"}),Object(y.jsx)("br",{}),Object(y.jsx)(me.Dropdown,{value:I,name:"cinema",optionLabel:"name",options:h,placeholder:"Elige una sucursal",onChange:B,className:d?"p-invalid":""}),Object(y.jsx)("small",{className:"".concat(d?"p-d-block p-error":"p-d-none"),children:"Debe elegir una sucursal"})]})})})]}):Object(y.jsx)("h3",{children:"Fuera de cartelera"})]})]}),Object(y.jsx)("div",{className:"p-card-footer",children:Object(y.jsxs)("div",{className:"p-text-right",children:[Object(y.jsx)(j.Button,{icon:"pi pi-arrow-left",onClick:p.goBack,className:"p-button-danger p-mb-2 p-mb-md-0  p-mr-md-1 p-button-rounded w-100 w-md-auto",label:"Cancelar"}),a?Object(y.jsx)(j.Button,{disabled:!0,loading:!0,form:"reservation-form",type:"submit",icon:"pi pi-shopping-cart",className:"p-button-rounded w-100 w-md-auto",label:"Eleg\xed tus entradas"}):T?Object(y.jsx)(j.Button,{form:"reservation-form",type:"submit",icon:"pi pi-shopping-cart",className:"p-button-rounded w-100 w-md-auto",label:"Al carrito"}):Object(y.jsx)(j.Button,{onClick:function(){return p.push("/login")},form:"reservation-form",type:"button",icon:"pi pi-key",className:"p-button-rounded w-100 w-md-auto",label:"Debe autenticarse"})]})})]})})})},Fe=c(86),Re=c.n(Fe),qe=(c(184),c(87)),Pe=function(){var e=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(0),s=Object(r.a)(i,2),l=s[0],o=s[1],d=Object(n.useState)(0),j=Object(r.a)(d,2),b=j[0],m=j[1],p=Object(n.useState)(1),h=Object(r.a)(p,2),O=h[0],f=h[1],x=Object(n.useState)(""),v=Object(r.a)(x,2),g=v[0],N=v[1],w=Object(u.h)();return Object(n.useEffect)((function(){var e=Re.a.parse(w.search).query;N(e&&!Array.isArray(e)?e:""),we.searchMovies(w.search,O).then((function(e){console.log(e),a(e.results),f(e.page),o(e.total_pages),m(e.total_results)}))}),[w,O]),{totalPages:l,results:c,page:O,setPage:f,query:g,totalResults:b}}(),t=e.results,c=e.query,a=e.totalPages,i=e.setPage,s=e.totalResults,l=Object(n.useState)(0),o=Object(r.a)(l,2),d=o[0],j=o[1];return Object(y.jsxs)("div",{className:"container p-mb-3",children:[Object(y.jsx)("h2",{className:"search__title",children:t.length>0?"Resultados para '".concat(c,"'..."):"No hay resultados para '".concat(c,"'")}),Object(y.jsx)("div",{className:"p-grid animate__animated animate__fadeIn",children:t.map((function(e){return Object(y.jsx)("div",{className:"p-col-4 p-md-2",children:Object(y.jsx)(fe,{movie:e})},e.id)}))}),t.length>0&&Object(y.jsx)(qe.Paginator,{first:d,rows:20,totalRecords:s,pageLinkSize:a,onPageChange:function(e){i(e.page+1),j(e.first)}})]})},Le=function(e){var t=e.dispatch,c=Object(n.useContext)(z).setCart;return Object(y.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(y.jsx)(j.Button,{onClick:function(e){v.auth().signOut().then((function(){t(Z()),c([])}))},className:"p-button-danger",label:"Cerrar sesi\xf3n"})})},ze=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})).email;return Object(y.jsx)("div",{className:"container p-pb-2 p-pt-2",children:Object(y.jsx)("div",{className:"p-grid p-jc-center",children:Object(y.jsx)("div",{className:"p-col-12 p-md-6",children:Object(y.jsx)(b.Card,{className:"p-card-black",footer:function(){return Object(y.jsx)(Le,{dispatch:e})},children:Object(y.jsx)("h2",{className:"p-text-center",children:t})})})})})},Ve=c(55),He=function(e){var t=e.isAuthenticated,c=e.component,n=Object(Ve.a)(e,["isAuthenticated","component"]);return Object(y.jsx)(u.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return t?Object(y.jsx)(c,Object(N.a)({},e)):Object(y.jsx)(u.a,{to:"/"})}}))},Me=function(e){var t=e.isAuthenticated,c=e.component,n=Object(Ve.a)(e,["isAuthenticated","component"]);return Object(y.jsx)(u.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return t?Object(y.jsx)(u.a,{to:"/"}):Object(y.jsx)(c,Object(N.a)({},e))}}))},Ge=function(){return Object(y.jsx)("div",{className:"auth-view",children:Object(y.jsx)("div",{className:"p-grid p-nogutter p-jc-center p-ai-center h-100",children:Object(y.jsx)("div",{className:"p-col-6",children:Object(y.jsxs)(b.Card,{className:"p-card-black",children:[Object(y.jsx)("h1",{children:"Cargando"}),Object(y.jsx)("small",{children:"Por favor, espere..."}),Object(y.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(y.jsx)(ne.ProgressSpinner,{})})]})})})})},Ue=function(){var e=Object(o.c)((function(e){return e.search})).show,t=Object(o.c)((function(e){return e.sidebar})).show,c=Object(n.useContext)(z).getTotalQuantityOfItems,a=Object(n.useState)(!1),i=Object(r.a)(a,2),s=i[0],j=i[1],b=Object(n.useState)(!0),m=Object(r.a)(b,2),p=m[0],h=m[1],O=Object(o.b)();return Object(n.useEffect)((function(){v.auth().onAuthStateChanged((function(e){(null===e||void 0===e?void 0:e.uid)?(O(X(e.displayName,e.email,e.uid)),j(!0)):j(!1),h(!1)}))}),[O,j,h]),p?Object(y.jsx)(Ge,{}):Object(y.jsx)(d.a,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)(K,{}),Object(y.jsx)(ee,{}),Object(y.jsx)("div",{style:{paddingTop:"60px",minHeight:"calc(100vh - 300px)"},children:Object(y.jsxs)(u.d,{children:[Object(y.jsx)(u.b,{exact:!0,path:"/",component:ke}),Object(y.jsx)(u.b,{exact:!0,path:"/cinemas",component:je}),Object(y.jsx)(Me,{exact:!0,path:"/login",component:_,isAuthenticated:s}),Object(y.jsx)(Me,{exact:!0,path:"/register",component:S,isAuthenticated:s}),Object(y.jsx)(u.b,{exact:!0,path:"/contacto",component:pe}),Object(y.jsx)(u.b,{exact:!0,path:"/movie/:id",component:Te}),Object(y.jsx)(u.b,{exact:!0,path:"/search",component:Pe}),Object(y.jsx)(u.b,{exact:!0,path:"/additionals",component:le}),Object(y.jsx)(u.b,{exact:!0,path:"/additional/:id",component:ie}),Object(y.jsx)(u.b,{exact:!0,path:"/not-found",component:Ie}),Object(y.jsx)(He,{exact:!0,path:"/cart",component:ue,isAuthenticated:s}),Object(y.jsx)(He,{exact:!0,path:"/user-screen",component:ze,isAuthenticated:s}),Object(y.jsx)(u.a,{to:"/"})]})}),Object(y.jsx)(U,{}),Object(y.jsx)(P,{visible:e}),Object(y.jsx)(A,{className:"p-d-flex p-d-lg-none animate__animated animate__fadeInUp",onClick:function(e,c){O(F()),t&&O(Q())},icon:l.i,position:"right"}),s&&Object(y.jsx)(A,{showBadge:c()>0,badgeValue:c(),className:"p-d-flex p-d-lg-none animate__animated animate__fadeInUp floating-button-black",onClick:function(e,t){return t.push("/cart")},icon:l.j,position:"left"})]})})},We=Object(T.d)({genres:[],error:null,loading:!1},(function(e){e.addCase(Ce.pending,(function(e){return Object(N.a)(Object(N.a)({},e),{},{loading:!0})})).addCase(Ce.fulfilled,(function(e,t){var c=t.payload;return Object(N.a)(Object(N.a)({},e),{},{loading:!1,genres:c})})).addCase(Ce.rejected,(function(e,t){var c=t.error;return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:c})})).addDefaultCase((function(e){return Object(N.a)({},e)}))})),Qe={displayName:null,email:null,uid:null},Je=Object(T.d)(Qe,(function(e){e.addCase(X,(function(e,t){var c=t.payload;return Object(N.a)(Object(N.a)({},e),c)})).addCase(Z,(function(e){return Qe})).addDefaultCase((function(e){return Object(N.a)({},e)}))})),Ye=Object(T.d)({results:[],error:null,loading:!1},(function(e){e.addCase(ye.pending,(function(e){return Object(N.a)(Object(N.a)({},e),{},{loading:!0})})).addCase(ye.fulfilled,(function(e,t){var c=t.payload;return Object(N.a)(Object(N.a)({},e),{},{loading:!1,results:c})})).addCase(ye.rejected,(function(e,t){var c=t.error;return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:c})})).addDefaultCase((function(e){return Object(N.a)({},e)}))})),$e=Object(T.d)({show:!1},(function(e){e.addCase(F,(function(e){return Object(N.a)(Object(N.a)({},e),{},{show:!0})})).addCase(R,(function(e){return Object(N.a)(Object(N.a)({},e),{},{show:!1})})).addDefaultCase((function(e){return Object(N.a)({},e)}))})),Ke={sidebar:Object(T.d)({show:!1},(function(e){e.addCase(W,(function(e){return Object(N.a)(Object(N.a)({},e),{},{show:!0})})).addCase(Q,(function(e){return Object(N.a)(Object(N.a)({},e),{},{show:!1})})).addDefaultCase((function(e){return Object(N.a)({},e)}))})),search:$e,movies:Ye,genres:We,auth:Je},Xe=Object(T.a)({reducer:Ke});var Ze=function(){return Object(y.jsx)(o.a,{store:Xe,children:Object(y.jsx)(H,{children:Object(y.jsx)(Ue,{})})})},et=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,195)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(Ze,{})}),document.getElementById("root")),et()},93:function(e,t,c){},95:function(e,t,c){}},[[193,1,2]]]);
//# sourceMappingURL=main.e93cdb5d.chunk.js.map